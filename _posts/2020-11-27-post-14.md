---
layout: post
title: 'Kakaotalk 데이터 가지고 놀기'
description: '오늘 해볼 컨텐츠는 바로 ~'
date: 2020-11-27 20:11:44 +0900
categories:  Talk
---
## 친구들 프로필사진 가져오기
RESTAPI만 사용해서 진행하려고 했는데,

날 가로막는 ~~그즈그튼~~ **CORS**

새벽 4시까지 CORS, Fetch API, 프로토콜 등을 공부하고나서야 원인이 보였습니다.

자바스크립트는 기본적으로 브라우저에서 작동하며,

서버에서 요청이 들어온 사이트를 신뢰한다는 답변을 보내지 않으면 에러가 나는 것으로 보입니다.

그러나 카카오 API는 JavaScript API 역시 지원하고 있어 브라우저에선 REST API가 아닌 JavaScript API를 쓰는 것이 알맞아보입니다.

오늘은 여기까지.


<script>
const TOKEN = "RGFXKU1a4Ph1I8icJqsO0la8dcKfGe62OvDrGAopb1UAAAF2CtF4VQ"
const userAction = async () => {
  const response = await fetch('https://kauth.kakao.com/oauth/authorize?client_id='+"b0ced927e5fc9b17704e2cf109a061f8"+'&redirect_uri='+'https://uowol.github.io/oauth'+'&response_type=code',{
    headers: {
        Origin: "https://uowol.github.io"
    }
    
  });
  alert(response)
  const myJson = await response.json(); //extract JSON from the http response
  // do something with myJson
}
userAction()
</script>